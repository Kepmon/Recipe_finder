(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function c(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerpolicy&&(t.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?t.credentials="include":i.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=c(i);fetch(i.href,t)}})();const d=(e,n,c)=>{const o=document.createElement("ul");return o.textContent=e,o.classList.add(n),c.forEach(i=>{const t=document.createElement("li");t.textContent=i,t.style.fontWeight="normal",o.append(t)}),o},A=document.querySelector(".main__results");let h;const E=e=>{const n=document.querySelector(".main__contribution"),c=e.hits,o=document.querySelector(".main__result-cards");n.style.backgroundColor="var(--background-brown)",A.style.display="block",c.forEach(i=>{const r=document.querySelector(".main__result-box").content.cloneNode(!0);r.querySelector(".main__result-card-title").textContent=i.recipe.label,r.querySelector(".main__result-card-img").setAttribute("src",i.recipe.image),r.querySelector(".calories-number").textContent=parseInt(i.recipe.calories/i.recipe.totalWeight*100);const p=d("Ingredients","main__result-card-ingredients",i.recipe.ingredientLines);r.querySelector(".main__result-card-ul").append(p),o.append(r)}),n.scrollIntoView(),h=Array.from(o.querySelectorAll(".read-more-link"))},N=async(e,n)=>{const c=n.hits,o=document.querySelector(".main__details"),t=document.querySelector(".details-template").content.cloneNode(!0),r=c[h.indexOf(e.target)];o.style.display="block",t.querySelector(".main__details-header").textContent=r.recipe.label,t.querySelector(".clicked-food").setAttribute("src",r.recipe.image),t.querySelector(".cuisine-type").textContent=r.recipe.cuisineType;const p=d("","diet-labels",r.recipe.dietLabels);t.querySelector(".main__details-diet").append(p);const I=d("","health-labels",r.recipe.healthLabels);t.querySelector(".main__details-health").append(I);const v=d("","ingredients",r.recipe.ingredientLines);t.querySelector(".main__details-ingredients").append(v),t.querySelector(".serving-size").textContent=parseInt(r.recipe.totalWeight),t.querySelector(".calories-per-serving").textContent=parseInt(r.recipe.calories),t.querySelector(".calories-fat").textContent=parseInt(r.recipe.totalNutrients.FAT.quantity*9),t.querySelector(".total-fat").textContent=`${parseInt(r.recipe.totalNutrients.FAT.quantity)} ${r.recipe.totalNutrients.FAT.unit}`,t.querySelector(".saturated-fat").textContent=`${parseInt(r.recipe.totalNutrients.FASAT.quantity)} ${r.recipe.totalNutrients.FASAT.unit}`,t.querySelector(".trans-fat").textContent=`${parseInt(r.recipe.totalNutrients.FATRN.quantity)} ${r.recipe.totalNutrients.FATRN.unit}`,t.querySelector(".cholesterol").textContent=`${parseInt(r.recipe.totalNutrients.CHOLE.quantity)} ${r.recipe.totalNutrients.CHOLE.unit}`,t.querySelector(".total-carbohydrate").textContent=`${parseInt(r.recipe.totalNutrients.CHOCDF.quantity)} ${r.recipe.totalNutrients.CHOCDF.unit}`,t.querySelector(".dietary-fiber").textContent=`${parseInt(r.recipe.totalNutrients.FIBTG.quantity)} ${r.recipe.totalNutrients.FIBTG.unit}`,t.querySelector(".sugars").textContent=`${parseInt(r.recipe.totalNutrients.SUGAR.quantity)} ${r.recipe.totalNutrients.SUGAR.unit}`,t.querySelector(".sugar-alcohol").textContent=`${parseInt(r.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${r.recipe.totalNutrients["Sugar.alcohol"].unit}`,t.querySelector(".protein").textContent=`${parseInt(r.recipe.totalNutrients.PROCNT.quantity)} ${r.recipe.totalNutrients.PROCNT.unit}`,t.querySelector(".sodium").textContent=`${parseInt(r.recipe.totalNutrients.NA.quantity)} ${r.recipe.totalNutrients.NA.unit}`,t.querySelector(".see-recipe").setAttribute("href",r.recipe.url),o.append(t),o.scrollIntoView()},x=document.querySelector(".add-more"),q=document.querySelector(".main__form"),S=document.querySelectorAll(".main__form-option-btn"),_=Array.from(document.querySelectorAll(".down-arrow")),$=document.querySelector(".main__form-find");let a={},l=[],g=[],y=[],m=[],f=[],u=[],s=[];const T=e=>{const n=document.querySelectorAll(".main__form-option-btns");let o=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(o=_.indexOf(e.target)),n[o].classList.toggle("btns-active"),_[o].classList.toggle("arrow-upwards")},C=e=>e.preventDefault(),k=()=>{const e=document.querySelector(".main__form-option-box"),n=document.querySelector(".main__form-option-inputs"),c=e.content.cloneNode(!0);n.appendChild(c)},L=e=>{const n=e.target,c=n.name,o=n.value;a[c]=o,c==="ingredient"&&(g.push(o),a[c]=g)},b=()=>{l=[],y=[],m=[],f=[],u=[],S.forEach(e=>{e.classList.contains("btn-chosen")&&l.includes(e)===!1&&l.push(e)}),l.forEach(e=>{switch(e.name){case"diet":y.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"dishType":m.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"cuisineType":f.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"health":e.value!=="DASH"||e.value!=="FODMAP-free"?u.push(e.value.charAt(0).toLowerCase()+e.value.slice(1)):u.push(e.value);break}}),a.diet=y,a.dishType=m,a.cuisineType=f,a.health=u},w=()=>{if(a.q!==void 0){const e=`&q=${a.q}`;s.push(e)}if(a.caloriesFrom!==void 0&&a.caloriesTo!==void 0){const e=`&calories=${a.caloriesFrom}-${a.caloriesTo}`;s.push(e)}for(let e in a)if(a[e].length!==0&&typeof a[e]=="object"){const n=a[e].map(c=>`&${e}=${c}`);s.push(...n)}},O=()=>{b(),w();const e=document.querySelector(".main__form-error"),n={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},o=`https://api.edamam.com/api/recipes/v2?app_id=${n.VITE_API_ID}&app_key=${n.VITE_API_KEY}&type=public`;if(s.length!==0)return e.textContent="",s.reduce((i,t)=>i+t,o);e.textContent="You have not filled any form field."},D=async()=>{const n=await(await fetch(O())).json();E(n),A.style.display==="block"&&h.forEach(c=>c.addEventListener("click",o=>{o.preventDefault(),N(o,n)}))},F=()=>{const e=document.querySelector(".footer__year"),n=new Date().getFullYear();e.textContent=n};q.addEventListener("click",C);q.addEventListener("keyup",C);q.addEventListener("change",L);S.forEach(e=>e.addEventListener("change",L));S.forEach(e=>e.addEventListener("click",()=>e.classList.toggle("btn-chosen")));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",T,{capture:!0}));x.addEventListener("click",k);$.addEventListener("click",D);window.addEventListener("DOMContentLoaded",F);
