(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const b=()=>{const e={BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},o=`https://api.edamam.com/api/recipes/v2?app_id=${e.VITE_API_ID}&app_key=${e.VITE_API_KEY}&type=public`,s=p.reduce((t,c)=>t+c,o);fetch(s).then(t=>t.json()).then(t=>{const c=document.querySelector(".main__contribution"),i=t.hits;c.style.backgroundColor="var(--background-brown)",i.forEach(l=>{const k=document.querySelector(".main__result-cards"),w=document.querySelector(".main__result-box"),C=document.querySelector(".main__results"),a=w.content.cloneNode(!0);C.style.display="block",a.querySelector(".main__result-card-title").textContent=l.recipe.label,a.querySelector(".main__result-card-img").setAttribute("src",l.recipe.image),a.querySelector(".calories-number").textContent=parseInt(l.recipe.calories),l.recipe.ingredientLines.forEach(I=>{const m=document.createElement("li");m.classList.add("ingredient-item"),m.textContent=I,a.querySelector(".main__result-card-ingredients").appendChild(m)}),k.appendChild(a)})})},A=Array.from(document.querySelectorAll(".pointer")),O=document.querySelector(".add-more"),_=document.querySelector(".main__form"),g=document.querySelectorAll(".main__form-option-btn"),v=Array.from(document.querySelectorAll(".down-arrow")),L=document.querySelector(".main__form-find");let n={},d=[],E=[],f=[],y=[],h=[],u=[],p=[];const x=e=>{const r=document.querySelectorAll(".main__form-option-btns");let o=A.indexOf(e.target);e.target.classList.contains("fa-solid")&&(o=v.indexOf(e.target)),r[o].classList.toggle("btns-active"),v[o].classList.toggle("arrow-upwards")},S=e=>e.preventDefault(),D=()=>{const e=document.querySelector(".main__form-option-box"),r=document.querySelector(".main__form-option-inputs"),o=e.content.cloneNode(!0);r.appendChild(o)},q=e=>{const r=e.target,o=r.name,s=r.value;n[o]=s,o==="ingredient"&&(E.push(s),n[o]=E)},T=()=>{d=[],f=[],y=[],h=[],u=[],g.forEach(e=>{e.classList.contains("btn-chosen")&&d.includes(e)===!1&&d.push(e)}),d.forEach(e=>{switch(e.name){case"diet":f.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"dishType":y.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"cuisineType":h.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"health":e.value!=="DASH"||e.value!=="FODMAP-free"?u.push(e.value.charAt(0).toLowerCase()+e.value.slice(1)):u.push(e.value);break}}),n.diet=f,n.dishType=y,n.cuisineType=h,n.health=u},B=()=>{if(n.q!==void 0){const e=`&q=${n.q}`;p.push(e)}if(n.caloriesFrom!==void 0&&n.caloriesTo!==void 0){const e=`&calories=${n.caloriesFrom}-${n.caloriesTo}`;p.push(e)}for(let e in n)if(n[e].length!==0&&typeof n[e]=="object"){const r=n[e].map(o=>`&${e}=${o}`);p.push(...r)}},$=()=>{const e=document.querySelector(".footer__year"),r=new Date().getFullYear();e.textContent=r};_.addEventListener("click",S);_.addEventListener("keyup",S);_.addEventListener("change",q);g.forEach(e=>e.addEventListener("change",q));g.forEach(e=>e.addEventListener("click",()=>e.classList.toggle("btn-chosen")));A.forEach(e=>e.addEventListener("click",x,{capture:!0}));O.addEventListener("click",D);L.addEventListener("click",T);L.addEventListener("click",B);L.addEventListener("click",b);window.addEventListener("DOMContentLoaded",$);
