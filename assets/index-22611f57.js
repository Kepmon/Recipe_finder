(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function c(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=c(r);fetch(r.href,a)}})();const A={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},x="https://api.edamam.com/api/recipes/v2",E=`${x}?app_id=${A.VITE_API_ID}&app_key=${A.VITE_API_KEY}&type=public`,N=document.querySelector(".main__results");let S;const $=async()=>{D(),R();const e=document.querySelector(".main__form-error"),o=p.reduce((c,i)=>c+i,E);if(p.length!==0){e.textContent="";const i=await(await fetch(o)).json();w(i)}else e.textContent="You have not filled any form field."},w=e=>{const o=document.querySelector(".main__contribution"),c=e.hits,i=document.querySelector(".main__result-cards");o.style.backgroundColor="var(--background-brown)",N.style.display="block",c.forEach(r=>{const l=document.querySelector(".main__result-box").content.cloneNode(!0);l.querySelector(".main__result-card-title").textContent=r.recipe.label,l.querySelector(".main__result-card-img").setAttribute("src",r.recipe.image),l.querySelector(".calories-number").textContent=parseInt(r.recipe.calories/r.recipe.totalWeight*100),r.recipe.ingredientLines.forEach(n=>{const t=document.createElement("li");t.classList.add("ingredient-item"),t.textContent=n,l.querySelector(".main__result-card-ingredients").append(t)}),i.append(l),o.scrollIntoView()}),S=Array.from(i.querySelectorAll(".read-more-link")),S.forEach(r=>r.addEventListener("click",T))},T=async e=>{e.preventDefault();const o=p.reduce((d,u)=>d+u,E),r=(await(await fetch(o)).json()).hits,a=document.querySelector(".main__details"),n=document.querySelector(".details-template").content.cloneNode(!0),t=r[S.indexOf(e.target)];a.style.display="block",n.querySelector(".main__details-header").textContent=t.recipe.label,n.querySelector(".clicked-food").setAttribute("src",t.recipe.image),n.querySelector(".cuisine-type").textContent=t.recipe.cuisineType,t.recipe.dietLabels.forEach(d=>{const u=document.createElement("li");u.textContent=d,n.querySelector(".diet-labels").append(u)}),t.recipe.healthLabels.forEach(d=>{const u=document.createElement("li");u.textContent=d,n.querySelector(".health-labels").append(u)}),t.recipe.ingredientLines.forEach(d=>{const u=document.createElement("li");u.textContent=d,n.querySelector(".ingredients").append(u)}),n.querySelector(".serving-size").textContent=parseInt(t.recipe.totalWeight),n.querySelector(".calories-per-serving").textContent=parseInt(t.recipe.calories),n.querySelector(".calories-fat").textContent=parseInt(t.recipe.totalNutrients.FAT.quantity*9),n.querySelector(".total-fat").textContent=`${parseInt(t.recipe.totalNutrients.FAT.quantity)} ${t.recipe.totalNutrients.FAT.unit}`,n.querySelector(".saturated-fat").textContent=`${parseInt(t.recipe.totalNutrients.FASAT.quantity)} ${t.recipe.totalNutrients.FASAT.unit}`,n.querySelector(".trans-fat").textContent=`${parseInt(t.recipe.totalNutrients.FATRN.quantity)} ${t.recipe.totalNutrients.FATRN.unit}`,n.querySelector(".cholesterol").textContent=`${parseInt(t.recipe.totalNutrients.CHOLE.quantity)} ${t.recipe.totalNutrients.CHOLE.unit}`,n.querySelector(".total-carbohydrate").textContent=`${parseInt(t.recipe.totalNutrients.CHOCDF.quantity)} ${t.recipe.totalNutrients.CHOCDF.unit}`,n.querySelector(".dietary-fiber").textContent=`${parseInt(t.recipe.totalNutrients.FIBTG.quantity)} ${t.recipe.totalNutrients.FIBTG.unit}`,n.querySelector(".sugars").textContent=`${parseInt(t.recipe.totalNutrients.SUGAR.quantity)} ${t.recipe.totalNutrients.SUGAR.unit}`,n.querySelector(".sugar-alcohol").textContent=`${parseInt(t.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${t.recipe.totalNutrients["Sugar.alcohol"].unit}`,n.querySelector(".protein").textContent=`${parseInt(t.recipe.totalNutrients.PROCNT.quantity)} ${t.recipe.totalNutrients.PROCNT.unit}`,n.querySelector(".sodium").textContent=`${parseInt(t.recipe.totalNutrients.NA.quantity)} ${t.recipe.totalNutrients.NA.unit}`,n.querySelector(".see-recipe").setAttribute("href",t.recipe.url),a.append(n),a.scrollIntoView()},b=document.querySelector(".add-more"),g=document.querySelector(".main__form"),_=document.querySelectorAll(".main__form-option-btn"),C=Array.from(document.querySelectorAll(".down-arrow")),k=document.querySelector(".main__form-find");let s={},y=[],L=[],f=[],h=[],q=[],m=[],p=[];const O=e=>{const o=document.querySelectorAll(".main__form-option-btns");let i=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(i=C.indexOf(e.target)),o[i].classList.toggle("btns-active"),C[i].classList.toggle("arrow-upwards")},I=e=>e.preventDefault(),F=()=>{const e=document.querySelector(".main__form-option-box"),o=document.querySelector(".main__form-option-inputs"),c=e.content.cloneNode(!0);o.appendChild(c)},v=e=>{const o=e.target,c=o.name,i=o.value;s[c]=i,c==="ingredient"&&(L.push(i),s[c]=L)},D=()=>{y=[],f=[],h=[],q=[],m=[],_.forEach(e=>{e.classList.contains("btn-chosen")&&y.includes(e)===!1&&y.push(e)}),y.forEach(e=>{switch(e.name){case"diet":f.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"dishType":h.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"cuisineType":q.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"health":e.value!=="DASH"||e.value!=="FODMAP-free"?m.push(e.value.charAt(0).toLowerCase()+e.value.slice(1)):m.push(e.value);break}}),s.diet=f,s.dishType=h,s.cuisineType=q,s.health=m},R=()=>{if(s.q!==void 0){const e=`&q=${s.q}`;p.push(e)}if(s.caloriesFrom!==void 0&&s.caloriesTo!==void 0){const e=`&calories=${s.caloriesFrom}-${s.caloriesTo}`;p.push(e)}for(let e in s)if(s[e].length!==0&&typeof s[e]=="object"){const o=s[e].map(c=>`&${e}=${c}`);p.push(...o)}},B=()=>{const e=document.querySelector(".footer__year"),o=new Date().getFullYear();e.textContent=o};g.addEventListener("click",I);g.addEventListener("keyup",I);g.addEventListener("change",v);_.forEach(e=>e.addEventListener("change",v));_.forEach(e=>e.addEventListener("click",()=>e.classList.toggle("btn-chosen")));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",O,{capture:!0}));b.addEventListener("click",F);k.addEventListener("click",$);window.addEventListener("DOMContentLoaded",B);
