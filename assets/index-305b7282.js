(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const l=(e,t,i)=>{const a=document.createElement("ul");return a.textContent=e,a.classList.add(t),i.forEach(r=>{const s=document.createElement("li");s.textContent=r,s.classList.add("font-weight"),a.append(s)}),a},c={selectedOptions:{},names:[],calories:[],diets:[],dishes:[],cuisines:[],health:[],ingredients:[],linkOptions:[],cardsContainer:document.querySelector(".main__result-cards")},y=(e,t)=>{(e===c.calories&&e.length===2||e===c.names&&e.length===1)&&e.shift(),e.push(t)},L=(e,t)=>{c.selectedOptions[e]=t},x=()=>{for(let e in c)if(Array.isArray(c[e]))c[e]=[];else for(let t in c[e])delete c[e][t]},m=e=>{const t=document.querySelector(".main__results"),i=document.querySelector(".main__contribution"),a=e.hits;return i.style.backgroundColor="var(--background-brown)",t.style.display="block",a.forEach(s=>{const n=document.querySelector(".main__result-box").content.cloneNode(!0);n.querySelector(".main__result-card-title").textContent=s.recipe.label,n.querySelector(".main__result-card-img").setAttribute("src",s.recipe.image),n.querySelector(".calories-number").textContent=parseInt(s.recipe.calories/s.recipe.totalWeight*100);const u=l("Ingredients","main__result-card-ingredients",s.recipe.ingredientLines);n.querySelector(".main__result-card-ul").append(u),c.cardsContainer.append(n)}),i.scrollIntoView(),{detailLinks:Array.from(c.cardsContainer.querySelectorAll(".read-more-link")),resultWindow:t}},C=async(e,t)=>{const i=m(t),a=t.hits,r=document.querySelector(".main__details"),o=document.querySelector(".details-template").content.cloneNode(!0),n=a[i.detailLinks.indexOf(e.target)];r.style.display="block",o.querySelector(".main__details-header").textContent=n.recipe.label,o.querySelector(".clicked-food").setAttribute("src",n.recipe.image),o.querySelector(".cuisine-type").textContent=n.recipe.cuisineType;const u=l("","diet-labels",n.recipe.dietLabels);o.querySelector(".main__details-diet").append(u);const g=l("","health-labels",n.recipe.healthLabels);o.querySelector(".main__details-health").append(g);const k=l("","ingredients",n.recipe.ingredientLines);o.querySelector(".main__details-ingredients").append(k),o.querySelector(".serving-size").textContent=parseInt(n.recipe.totalWeight),o.querySelector(".calories-per-serving").textContent=parseInt(n.recipe.calories),o.querySelector(".calories-fat").textContent=parseInt(n.recipe.totalNutrients.FAT.quantity*9),o.querySelector(".total-fat").textContent=`${parseInt(n.recipe.totalNutrients.FAT.quantity)} ${n.recipe.totalNutrients.FAT.unit}`,o.querySelector(".saturated-fat").textContent=`${parseInt(n.recipe.totalNutrients.FASAT.quantity)} ${n.recipe.totalNutrients.FASAT.unit}`,o.querySelector(".trans-fat").textContent=`${parseInt(n.recipe.totalNutrients.FATRN.quantity)} ${n.recipe.totalNutrients.FATRN.unit}`,o.querySelector(".cholesterol").textContent=`${parseInt(n.recipe.totalNutrients.CHOLE.quantity)} ${n.recipe.totalNutrients.CHOLE.unit}`,o.querySelector(".total-carbohydrate").textContent=`${parseInt(n.recipe.totalNutrients.CHOCDF.quantity)} ${n.recipe.totalNutrients.CHOCDF.unit}`,o.querySelector(".dietary-fiber").textContent=`${parseInt(n.recipe.totalNutrients.FIBTG.quantity)} ${n.recipe.totalNutrients.FIBTG.unit}`,o.querySelector(".sugars").textContent=`${parseInt(n.recipe.totalNutrients.SUGAR.quantity)} ${n.recipe.totalNutrients.SUGAR.unit}`,o.querySelector(".sugar-alcohol").textContent=`${parseInt(n.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${n.recipe.totalNutrients["Sugar.alcohol"].unit}`,o.querySelector(".protein").textContent=`${parseInt(n.recipe.totalNutrients.PROCNT.quantity)} ${n.recipe.totalNutrients.PROCNT.unit}`,o.querySelector(".sodium").textContent=`${parseInt(n.recipe.totalNutrients.NA.quantity)} ${n.recipe.totalNutrients.NA.unit}`,o.querySelector(".see-recipe").setAttribute("href",n.recipe.url),r.append(o),r.scrollIntoView()},f=document.querySelector(".add-more"),h=document.querySelector(".main__form"),q=Array.from(document.querySelectorAll(".checkbox")),S=document.querySelectorAll(".main__form-option-check"),p=Array.from(document.querySelectorAll(".down-arrow")),_=document.querySelector(".main__form-find"),b=e=>{const t=q.indexOf(e.target);S[t].classList.toggle("checkbox-chosen")},I=e=>{const t=document.querySelectorAll(".main__form-option-checkboxes");let a=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(a=p.indexOf(e.target)),t[a].classList.toggle("check-active"),p[a].classList.toggle("arrow-upwards")},d=e=>e.preventDefault(),E=()=>{const e=document.querySelector(".main__form-option-box"),t=document.querySelector(".main__form-option-inputs"),i=e.content.cloneNode(!0);t.appendChild(i)},N=e=>{const t=e.target,i=t.name,a=t.value,r=o=>{y(o,a),L(i,o)};({q:()=>r(c.names),calories:()=>r(c.calories),diet:()=>r(c.diets),dishType:()=>r(c.dishes),cuisineType:()=>r(c.cuisines),health:()=>r(c.health),ingredients:()=>r(c.ingredients)})[i]()},O=()=>{if(Object.keys(c.selectedOptions).length!==0)for(let e in c.selectedOptions)return c.selectedOptions[e].forEach(t=>{let i;e==="calories"?(c.selectedOptions[e].sort((a,r)=>a-r),i=`&${e}=${c.selectedOptions[e][0]}-${c.selectedOptions[e][1]}`):i=`&${e}=${t}`,y(c.linkOptions,i)}),c.linkOptions},A=()=>{const e=O(),t=document.querySelector(".main__form-error"),i={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},r=`https://api.edamam.com/api/recipes/v2?app_id=${i.VITE_API_ID}&app_key=${i.VITE_API_KEY}&type=public`;if(e!==void 0)return t.textContent="",e.reduce((o,n)=>o+n,r);t.textContent="You have not filled any form field."},$=()=>{document.querySelectorAll("input").forEach(t=>{t.type==="checkbox"?S.forEach(i=>{i.classList.remove("checkbox-chosen")}):t.value=""})},v=async()=>{const t=await(await fetch(A())).json();c.cardsContainer.innerHTML="";const i=m(t);i.resultWindow.style.display==="block"&&i.detailLinks.forEach(a=>a.addEventListener("click",r=>{r.preventDefault(),C(r,t)})),x(),$()},T=()=>{const e=document.querySelector(".footer__year"),t=new Date().getFullYear();e.textContent=t};h.addEventListener("keyup",d);q.forEach(e=>e.addEventListener("click",b));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",I,{capture:!0}));f.addEventListener("click",d);f.addEventListener("click",E);h.addEventListener("change",N);_.addEventListener("click",d);_.addEventListener("click",v);window.addEventListener("DOMContentLoaded",T);
