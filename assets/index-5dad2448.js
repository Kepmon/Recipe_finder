(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const t of a.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const C={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},k="https://api.edamam.com/api/recipes/v2",v=`${k}?app_id=${C.VITE_API_ID}&app_key=${C.VITE_API_KEY}&type=public`,$=document.querySelector(".main__results");let S;const T=()=>{const e=document.querySelector(".main__form-error");if(d.length!==0){const i=d.reduce((n,s)=>n+s,v);e.textContent="",fetch(i).then(n=>n.json()).then(n=>{const s=document.querySelector(".main__contribution"),o=n.hits,a=document.querySelector(".main__result-cards");s.style.backgroundColor="var(--background-brown)",$.style.display="block",o.forEach(t=>{const l=document.querySelector(".main__result-box").content.cloneNode(!0);l.querySelector(".main__result-card-title").textContent=t.recipe.label,l.querySelector(".main__result-card-img").setAttribute("src",t.recipe.image),l.querySelector(".calories-number").textContent=parseInt(t.recipe.calories/t.recipe.totalWeight*100),t.recipe.ingredientLines.forEach(u=>{const m=document.createElement("li");m.classList.add("ingredient-item"),m.textContent=u,l.querySelector(".main__result-card-ingredients").append(m)}),a.append(l),s.scrollIntoView()}),S=Array.from(a.querySelectorAll(".read-more-link")),S.forEach(t=>t.addEventListener("click",b))})}else e.textContent="You have not filled any form field."},b=e=>{e.preventDefault();const i=d.reduce((n,s)=>n+s,v);fetch(i).then(n=>n.json()).then(n=>{const s=n.hits,o=document.querySelector(".main__details"),t=document.querySelector(".details-template").content.cloneNode(!0),r=s[S.indexOf(e.target)];o.style.display="block",t.querySelector(".main__details-header").textContent=r.recipe.label,t.querySelector(".clicked-food").setAttribute("src",r.recipe.image),t.querySelector(".cuisine-type").textContent=r.recipe.cuisineType,r.recipe.dietLabels.forEach(l=>{const u=document.createElement("li");u.textContent=l,t.querySelector(".diet-labels").append(u)}),r.recipe.healthLabels.forEach(l=>{const u=document.createElement("li");u.textContent=l,t.querySelector(".health-labels").append(u)}),r.recipe.ingredientLines.forEach(l=>{const u=document.createElement("li");u.textContent=l,t.querySelector(".ingredients").append(u)}),t.querySelector(".serving-size").textContent=parseInt(r.recipe.totalWeight),t.querySelector(".calories-per-serving").textContent=parseInt(r.recipe.calories),t.querySelector(".calories-fat").textContent=parseInt(r.recipe.totalNutrients.FAT.quantity*9),t.querySelector(".total-fat").textContent=`${parseInt(r.recipe.totalNutrients.FAT.quantity)} ${r.recipe.totalNutrients.FAT.unit}`,t.querySelector(".saturated-fat").textContent=`${parseInt(r.recipe.totalNutrients.FASAT.quantity)} ${r.recipe.totalNutrients.FASAT.unit}`,t.querySelector(".trans-fat").textContent=`${parseInt(r.recipe.totalNutrients.FATRN.quantity)} ${r.recipe.totalNutrients.FATRN.unit}`,t.querySelector(".cholesterol").textContent=`${parseInt(r.recipe.totalNutrients.CHOLE.quantity)} ${r.recipe.totalNutrients.CHOLE.unit}`,t.querySelector(".total-carbohydrate").textContent=`${parseInt(r.recipe.totalNutrients.CHOCDF.quantity)} ${r.recipe.totalNutrients.CHOCDF.unit}`,t.querySelector(".dietary-fiber").textContent=`${parseInt(r.recipe.totalNutrients.FIBTG.quantity)} ${r.recipe.totalNutrients.FIBTG.unit}`,t.querySelector(".sugars").textContent=`${parseInt(r.recipe.totalNutrients.SUGAR.quantity)} ${r.recipe.totalNutrients.SUGAR.unit}`,t.querySelector(".sugar-alcohol").textContent=`${parseInt(r.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${r.recipe.totalNutrients["Sugar.alcohol"].unit}`,t.querySelector(".protein").textContent=`${parseInt(r.recipe.totalNutrients.PROCNT.quantity)} ${r.recipe.totalNutrients.PROCNT.unit}`,t.querySelector(".sodium").textContent=`${parseInt(r.recipe.totalNutrients.NA.quantity)} ${r.recipe.totalNutrients.NA.unit}`,t.querySelector(".see-recipe").setAttribute("href",r.recipe.url),o.append(t),o.scrollIntoView()})},I=Array.from(document.querySelectorAll(".pointer")),w=document.querySelector(".add-more"),g=document.querySelector(".main__form"),_=document.querySelectorAll(".main__form-option-btn"),L=Array.from(document.querySelectorAll(".down-arrow")),A=document.querySelector(".main__form-find");let c={},p=[],E=[],f=[],h=[],q=[],y=[],d=[];const O=e=>{const i=document.querySelectorAll(".main__form-option-btns");let n=I.indexOf(e.target);e.target.classList.contains("fa-solid")&&(n=L.indexOf(e.target)),i[n].classList.toggle("btns-active"),L[n].classList.toggle("arrow-upwards")},x=e=>e.preventDefault(),F=()=>{const e=document.querySelector(".main__form-option-box"),i=document.querySelector(".main__form-option-inputs"),n=e.content.cloneNode(!0);i.appendChild(n)},N=e=>{const i=e.target,n=i.name,s=i.value;c[n]=s,n==="ingredient"&&(E.push(s),c[n]=E)},D=()=>{p=[],f=[],h=[],q=[],y=[],_.forEach(e=>{e.classList.contains("btn-chosen")&&p.includes(e)===!1&&p.push(e)}),p.forEach(e=>{switch(e.name){case"diet":f.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"dishType":h.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"cuisineType":q.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"health":e.value!=="DASH"||e.value!=="FODMAP-free"?y.push(e.value.charAt(0).toLowerCase()+e.value.slice(1)):y.push(e.value);break}}),c.diet=f,c.dishType=h,c.cuisineType=q,c.health=y},R=()=>{if(c.q!==void 0){const e=`&q=${c.q}`;d.push(e)}if(c.caloriesFrom!==void 0&&c.caloriesTo!==void 0){const e=`&calories=${c.caloriesFrom}-${c.caloriesTo}`;d.push(e)}for(let e in c)if(c[e].length!==0&&typeof c[e]=="object"){const i=c[e].map(n=>`&${e}=${n}`);d.push(...i)}},B=()=>{const e=document.querySelector(".footer__year"),i=new Date().getFullYear();e.textContent=i};g.addEventListener("click",x);g.addEventListener("keyup",x);g.addEventListener("change",N);_.forEach(e=>e.addEventListener("change",N));_.forEach(e=>e.addEventListener("click",()=>e.classList.toggle("btn-chosen")));I.forEach(e=>e.addEventListener("click",O,{capture:!0}));w.addEventListener("click",F);A.addEventListener("click",D);A.addEventListener("click",R);A.addEventListener("click",T);window.addEventListener("DOMContentLoaded",B);
