(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const t of a.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function i(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerpolicy&&(a.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?a.credentials="include":c.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(c){if(c.ep)return;c.ep=!0;const a=i(c);fetch(c.href,a)}})();const u=(e,n,i)=>{const s=document.createElement("ul");return s.textContent=e,s.classList.add(n),i.forEach(c=>{const a=document.createElement("li");a.textContent=c,a.classList.add("font-weight"),s.append(a)}),s},m=e=>{const n=document.querySelector(".main__results"),i=document.querySelector(".main__contribution"),s=e.hits,c=document.querySelector(".main__result-cards");return i.style.backgroundColor="var(--background-brown)",n.style.display="block",s.forEach(t=>{const l=document.querySelector(".main__result-box").content.cloneNode(!0);l.querySelector(".main__result-card-title").textContent=t.recipe.label,l.querySelector(".main__result-card-img").setAttribute("src",t.recipe.image),l.querySelector(".calories-number").textContent=parseInt(t.recipe.calories/t.recipe.totalWeight*100);const d=u("Ingredients","main__result-card-ingredients",t.recipe.ingredientLines);l.querySelector(".main__result-card-ul").append(d),c.append(l)}),i.scrollIntoView(),{detailLinks:Array.from(c.querySelectorAll(".read-more-link")),resultWindow:n}},S=async(e,n)=>{const i=m(n);console.log(i.detailLinks[1]),console.log(e.target);const s=n.hits,c=document.querySelector(".main__details"),t=document.querySelector(".details-template").content.cloneNode(!0),r=s[i.detailLinks.indexOf(e.target)];c.style.display="block",t.querySelector(".main__details-header").textContent=r.recipe.label,t.querySelector(".clicked-food").setAttribute("src",r.recipe.image),t.querySelector(".cuisine-type").textContent=r.recipe.cuisineType;const l=u("","diet-labels",r.recipe.dietLabels);t.querySelector(".main__details-diet").append(l);const d=u("","health-labels",r.recipe.healthLabels);t.querySelector(".main__details-health").append(d);const _=u("","ingredients",r.recipe.ingredientLines);t.querySelector(".main__details-ingredients").append(_),t.querySelector(".serving-size").textContent=parseInt(r.recipe.totalWeight),t.querySelector(".calories-per-serving").textContent=parseInt(r.recipe.calories),t.querySelector(".calories-fat").textContent=parseInt(r.recipe.totalNutrients.FAT.quantity*9),t.querySelector(".total-fat").textContent=`${parseInt(r.recipe.totalNutrients.FAT.quantity)} ${r.recipe.totalNutrients.FAT.unit}`,t.querySelector(".saturated-fat").textContent=`${parseInt(r.recipe.totalNutrients.FASAT.quantity)} ${r.recipe.totalNutrients.FASAT.unit}`,t.querySelector(".trans-fat").textContent=`${parseInt(r.recipe.totalNutrients.FATRN.quantity)} ${r.recipe.totalNutrients.FATRN.unit}`,t.querySelector(".cholesterol").textContent=`${parseInt(r.recipe.totalNutrients.CHOLE.quantity)} ${r.recipe.totalNutrients.CHOLE.unit}`,t.querySelector(".total-carbohydrate").textContent=`${parseInt(r.recipe.totalNutrients.CHOCDF.quantity)} ${r.recipe.totalNutrients.CHOCDF.unit}`,t.querySelector(".dietary-fiber").textContent=`${parseInt(r.recipe.totalNutrients.FIBTG.quantity)} ${r.recipe.totalNutrients.FIBTG.unit}`,t.querySelector(".sugars").textContent=`${parseInt(r.recipe.totalNutrients.SUGAR.quantity)} ${r.recipe.totalNutrients.SUGAR.unit}`,t.querySelector(".sugar-alcohol").textContent=`${parseInt(r.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${r.recipe.totalNutrients["Sugar.alcohol"].unit}`,t.querySelector(".protein").textContent=`${parseInt(r.recipe.totalNutrients.PROCNT.quantity)} ${r.recipe.totalNutrients.PROCNT.unit}`,t.querySelector(".sodium").textContent=`${parseInt(r.recipe.totalNutrients.NA.quantity)} ${r.recipe.totalNutrients.NA.unit}`,t.querySelector(".see-recipe").setAttribute("href",r.recipe.url),c.append(t),c.scrollIntoView()},o={selectedOptions:{},nameArray:[],caloriesArray:[],dietArray:[],dishArray:[],cuisineArray:[],healthArray:[],ingredientsArray:[],linkOptions:[]},g=e=>{const n=e.target,i=n.name,s=n.value;switch(i){case"q":o.nameArray.push(s),o.selectedOptions[i]=o.nameArray;break;case"calories":o.caloriesArray.push(s),o.caloriesArray.sort((c,a)=>c-a),o.selectedOptions[i]=o.caloriesArray;break;case"diet":o.dietArray.push(s),o.selectedOptions[i]=o.dietArray;break;case"dishType":o.dishArray.push(s),o.selectedOptions[i]=o.dishArray;break;case"cuisineType":o.cuisineArray.push(s),o.selectedOptions[i]=o.cuisineArray;break;case"health":o.healthArray.push(s),o.selectedOptions[i]=o.healthArray;break;case"ingredients":o.ingredientsArray.push(s),o.selectedOptions[i]=o.ingredientsArray;break}},k=()=>{if(o.selectedOptions!=={})for(let e in o.selectedOptions)return o.selectedOptions[e].forEach(n=>{let i;e==="calories"?i=`${e}=${selectedOptions[e][0]}-${selectedOptions[e][1]}`:i=`&${e}=${n}`,o.linkOptions.push(i)}),o.linkOptions},b=()=>{for(let e in o)if(Array.isArray(o[e]))o[e]=[];else for(let n in o[e])delete o[e][n]},f=document.querySelector(".add-more"),h=document.querySelector(".main__form"),q=Array.from(document.querySelectorAll(".checkbox")),L=document.querySelectorAll(".main__form-option-check"),y=Array.from(document.querySelectorAll(".down-arrow")),A=document.querySelector(".main__form-find"),x=e=>{const n=q.indexOf(e.target);L[n].classList.toggle("checkbox-chosen")},C=e=>{const n=document.querySelectorAll(".main__form-option-checkboxes");let s=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(s=y.indexOf(e.target)),n[s].classList.toggle("check-active"),y[s].classList.toggle("arrow-upwards")},p=e=>e.preventDefault(),I=()=>{const e=document.querySelector(".main__form-option-box"),n=document.querySelector(".main__form-option-inputs"),i=e.content.cloneNode(!0);n.appendChild(i)},O=()=>{const e=k(),n=document.querySelector(".main__form-error"),i={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},c=`https://api.edamam.com/api/recipes/v2?app_id=${i.VITE_API_ID}&app_key=${i.VITE_API_KEY}&type=public`;if(e!==void 0)return n.textContent="",e.reduce((t,r)=>t+r,c);n.textContent="You have not filled any form field."},N=async()=>{const n=await(await fetch(O())).json(),i=document.querySelector(".main__result-cards");i.innerHTML="";const s=m(n);s.resultWindow.style.display==="block"&&s.detailLinks.forEach(c=>c.addEventListener("click",a=>{a.preventDefault(),S(a,n)})),b()},E=()=>{const e=document.querySelector(".footer__year"),n=new Date().getFullYear();e.textContent=n};h.addEventListener("keyup",p);q.forEach(e=>e.addEventListener("click",x));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",C,{capture:!0}));f.addEventListener("click",p);f.addEventListener("click",I);h.addEventListener("change",g);A.addEventListener("click",p);A.addEventListener("click",N);window.addEventListener("DOMContentLoaded",E);
