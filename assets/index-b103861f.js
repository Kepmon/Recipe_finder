(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function i(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerpolicy&&(n.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?n.credentials="include":c.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(c){if(c.ep)return;c.ep=!0;const n=i(c);fetch(c.href,n)}})();const d=(e,r,i)=>{const a=document.createElement("ul");return a.textContent=e,a.classList.add(r),i.forEach(c=>{const n=document.createElement("li");n.textContent=c,n.classList.add("font-weight"),a.append(n)}),a},o={selectedOptions:{},names:[],calories:[],diets:[],dishes:[],cuisines:[],health:[],ingredients:[],linkOptions:[],cardsContainer:document.querySelector(".main__result-cards")},l=(e,r)=>{e.push(r)},u=(e,r)=>{o.selectedOptions[e]=r},C=()=>{for(let e in o)if(Array.isArray(o[e]))o[e]=[];else for(let r in o[e])delete o[e][r]},f=e=>{const r=document.querySelector(".main__results"),i=document.querySelector(".main__contribution"),a=e.hits;return i.style.backgroundColor="var(--background-brown)",r.style.display="block",a.forEach(n=>{const t=document.querySelector(".main__result-box").content.cloneNode(!0);t.querySelector(".main__result-card-title").textContent=n.recipe.label,t.querySelector(".main__result-card-img").setAttribute("src",n.recipe.image),t.querySelector(".calories-number").textContent=parseInt(n.recipe.calories/n.recipe.totalWeight*100);const p=d("Ingredients","main__result-card-ingredients",n.recipe.ingredientLines);t.querySelector(".main__result-card-ul").append(p),o.cardsContainer.append(t)}),i.scrollIntoView(),{detailLinks:Array.from(o.cardsContainer.querySelectorAll(".read-more-link")),resultWindow:r}},L=async(e,r)=>{const i=f(r),a=r.hits,c=document.querySelector(".main__details"),s=document.querySelector(".details-template").content.cloneNode(!0),t=a[i.detailLinks.indexOf(e.target)];c.style.display="block",s.querySelector(".main__details-header").textContent=t.recipe.label,s.querySelector(".clicked-food").setAttribute("src",t.recipe.image),s.querySelector(".cuisine-type").textContent=t.recipe.cuisineType;const p=d("","diet-labels",t.recipe.dietLabels);s.querySelector(".main__details-diet").append(p);const g=d("","health-labels",t.recipe.healthLabels);s.querySelector(".main__details-health").append(g);const k=d("","ingredients",t.recipe.ingredientLines);s.querySelector(".main__details-ingredients").append(k),s.querySelector(".serving-size").textContent=parseInt(t.recipe.totalWeight),s.querySelector(".calories-per-serving").textContent=parseInt(t.recipe.calories),s.querySelector(".calories-fat").textContent=parseInt(t.recipe.totalNutrients.FAT.quantity*9),s.querySelector(".total-fat").textContent=`${parseInt(t.recipe.totalNutrients.FAT.quantity)} ${t.recipe.totalNutrients.FAT.unit}`,s.querySelector(".saturated-fat").textContent=`${parseInt(t.recipe.totalNutrients.FASAT.quantity)} ${t.recipe.totalNutrients.FASAT.unit}`,s.querySelector(".trans-fat").textContent=`${parseInt(t.recipe.totalNutrients.FATRN.quantity)} ${t.recipe.totalNutrients.FATRN.unit}`,s.querySelector(".cholesterol").textContent=`${parseInt(t.recipe.totalNutrients.CHOLE.quantity)} ${t.recipe.totalNutrients.CHOLE.unit}`,s.querySelector(".total-carbohydrate").textContent=`${parseInt(t.recipe.totalNutrients.CHOCDF.quantity)} ${t.recipe.totalNutrients.CHOCDF.unit}`,s.querySelector(".dietary-fiber").textContent=`${parseInt(t.recipe.totalNutrients.FIBTG.quantity)} ${t.recipe.totalNutrients.FIBTG.unit}`,s.querySelector(".sugars").textContent=`${parseInt(t.recipe.totalNutrients.SUGAR.quantity)} ${t.recipe.totalNutrients.SUGAR.unit}`,s.querySelector(".sugar-alcohol").textContent=`${parseInt(t.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${t.recipe.totalNutrients["Sugar.alcohol"].unit}`,s.querySelector(".protein").textContent=`${parseInt(t.recipe.totalNutrients.PROCNT.quantity)} ${t.recipe.totalNutrients.PROCNT.unit}`,s.querySelector(".sodium").textContent=`${parseInt(t.recipe.totalNutrients.NA.quantity)} ${t.recipe.totalNutrients.NA.unit}`,s.querySelector(".see-recipe").setAttribute("href",t.recipe.url),c.append(s),c.scrollIntoView()},h=document.querySelector(".add-more"),q=document.querySelector(".main__form"),S=Array.from(document.querySelectorAll(".checkbox")),x=document.querySelectorAll(".main__form-option-check"),m=Array.from(document.querySelectorAll(".down-arrow")),_=document.querySelector(".main__form-find"),b=e=>{const r=S.indexOf(e.target);x[r].classList.toggle("checkbox-chosen")},A=e=>{const r=document.querySelectorAll(".main__form-option-checkboxes");let a=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(a=m.indexOf(e.target)),r[a].classList.toggle("check-active"),m[a].classList.toggle("arrow-upwards")},y=e=>e.preventDefault(),I=()=>{const e=document.querySelector(".main__form-option-box"),r=document.querySelector(".main__form-option-inputs"),i=e.content.cloneNode(!0);r.appendChild(i)},N=e=>{const r=e.target,i=r.name,a=r.value,c={q:n=>{l(o.names,n),u(i,o.names)},calories:n=>{o.calories.sort((s,t)=>s-t),l(o.calories,n),u(i,o.calories)},diet:n=>{l(o.diets,n),u(i,o.diets)},dishType:n=>{l(o.dishes,n),u(i,o.dishes)},cuisineType:n=>{l(o.cuisines,n),u(i,o.cuisines)},health:n=>{l(o.health,n),u(i,o.health)},ingredients:n=>{l(o.ingredients,n),u(i,o.ingredients)}};c.optionKey!==null&&c[i](a)},E=()=>{if(Object.keys(o.selectedOptions).length!==0)for(let e in o.selectedOptions)return o.selectedOptions[e].forEach(r=>{let i;e==="calories"?i=`&${e}=${o.selectedOptions[e][0]}-${o.selectedOptions[e][1]}`:i=`&${e}=${r}`,l(o.linkOptions,i)}),o.linkOptions},O=()=>{const e=E(),r=document.querySelector(".main__form-error"),i={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},c=`https://api.edamam.com/api/recipes/v2?app_id=${i.VITE_API_ID}&app_key=${i.VITE_API_KEY}&type=public`;if(e!==void 0)return r.textContent="",e.reduce((s,t)=>s+t,c);r.textContent="You have not filled any form field."},$=async()=>{const r=await(await fetch(O())).json();o.cardsContainer.innerHTML="";const i=f(r);i.resultWindow.style.display==="block"&&i.detailLinks.forEach(a=>a.addEventListener("click",c=>{c.preventDefault(),L(c,r)})),C()},T=()=>{const e=document.querySelector(".footer__year"),r=new Date().getFullYear();e.textContent=r};q.addEventListener("keyup",y);S.forEach(e=>e.addEventListener("click",b));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",A,{capture:!0}));h.addEventListener("click",y);h.addEventListener("click",I);q.addEventListener("change",N);_.addEventListener("click",y);_.addEventListener("click",$);window.addEventListener("DOMContentLoaded",T);
