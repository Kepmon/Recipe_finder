(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const t of r.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&i(t)}).observe(document,{childList:!0,subtree:!0});function c(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=c(o);fetch(o.href,r)}})();const A=document.querySelector(".main__results");let h;const E=async()=>{const n=await(await fetch(w())).json();I(n),A.style.display==="block"&&h.forEach(c=>c.addEventListener("click",v(n)))},I=e=>{const n=document.querySelector(".main__contribution"),c=e.hits,i=document.querySelector(".main__result-cards");n.style.backgroundColor="var(--background-brown)",A.style.display="block",c.forEach(o=>{const t=document.querySelector(".main__result-box").content.cloneNode(!0);t.querySelector(".main__result-card-title").textContent=o.recipe.label,t.querySelector(".main__result-card-img").setAttribute("src",o.recipe.image),t.querySelector(".calories-number").textContent=parseInt(o.recipe.calories/o.recipe.totalWeight*100),o.recipe.ingredientLines.forEach(l=>{const s=document.createElement("li");s.classList.add("ingredient-item"),s.textContent=l,t.querySelector(".main__result-card-ingredients").append(s)}),i.append(t),n.scrollIntoView()}),h=Array.from(i.querySelectorAll(".read-more-link"))},v=async(e,n)=>{e.preventDefault();const c=n.hits,i=document.querySelector(".main__details"),r=document.querySelector(".details-template").content.cloneNode(!0),t=c[h.indexOf(e.target)];i.style.display="block",r.querySelector(".main__details-header").textContent=t.recipe.label,r.querySelector(".clicked-food").setAttribute("src",t.recipe.image),r.querySelector(".cuisine-type").textContent=t.recipe.cuisineType,t.recipe.dietLabels.forEach(l=>{const s=document.createElement("li");s.textContent=l,r.querySelector(".diet-labels").append(s)}),t.recipe.healthLabels.forEach(l=>{const s=document.createElement("li");s.textContent=l,r.querySelector(".health-labels").append(s)}),t.recipe.ingredientLines.forEach(l=>{const s=document.createElement("li");s.textContent=l,r.querySelector(".ingredients").append(s)}),r.querySelector(".serving-size").textContent=parseInt(t.recipe.totalWeight),r.querySelector(".calories-per-serving").textContent=parseInt(t.recipe.calories),r.querySelector(".calories-fat").textContent=parseInt(t.recipe.totalNutrients.FAT.quantity*9),r.querySelector(".total-fat").textContent=`${parseInt(t.recipe.totalNutrients.FAT.quantity)} ${t.recipe.totalNutrients.FAT.unit}`,r.querySelector(".saturated-fat").textContent=`${parseInt(t.recipe.totalNutrients.FASAT.quantity)} ${t.recipe.totalNutrients.FASAT.unit}`,r.querySelector(".trans-fat").textContent=`${parseInt(t.recipe.totalNutrients.FATRN.quantity)} ${t.recipe.totalNutrients.FATRN.unit}`,r.querySelector(".cholesterol").textContent=`${parseInt(t.recipe.totalNutrients.CHOLE.quantity)} ${t.recipe.totalNutrients.CHOLE.unit}`,r.querySelector(".total-carbohydrate").textContent=`${parseInt(t.recipe.totalNutrients.CHOCDF.quantity)} ${t.recipe.totalNutrients.CHOCDF.unit}`,r.querySelector(".dietary-fiber").textContent=`${parseInt(t.recipe.totalNutrients.FIBTG.quantity)} ${t.recipe.totalNutrients.FIBTG.unit}`,r.querySelector(".sugars").textContent=`${parseInt(t.recipe.totalNutrients.SUGAR.quantity)} ${t.recipe.totalNutrients.SUGAR.unit}`,r.querySelector(".sugar-alcohol").textContent=`${parseInt(t.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${t.recipe.totalNutrients["Sugar.alcohol"].unit}`,r.querySelector(".protein").textContent=`${parseInt(t.recipe.totalNutrients.PROCNT.quantity)} ${t.recipe.totalNutrients.PROCNT.unit}`,r.querySelector(".sodium").textContent=`${parseInt(t.recipe.totalNutrients.NA.quantity)} ${t.recipe.totalNutrients.NA.unit}`,r.querySelector(".see-recipe").setAttribute("href",t.recipe.url),i.append(r),i.scrollIntoView()},x=document.querySelector(".add-more"),q=document.querySelector(".main__form"),S=document.querySelectorAll(".main__form-option-btn"),g=Array.from(document.querySelectorAll(".down-arrow")),N=document.querySelector(".main__form-find");let a={},d=[],_=[],y=[],m=[],f=[],p=[],u=[];const $=e=>{const n=document.querySelectorAll(".main__form-option-btns");let i=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(i=g.indexOf(e.target)),n[i].classList.toggle("btns-active"),g[i].classList.toggle("arrow-upwards")},C=e=>e.preventDefault(),b=()=>{const e=document.querySelector(".main__form-option-box"),n=document.querySelector(".main__form-option-inputs"),c=e.content.cloneNode(!0);n.appendChild(c)},L=e=>{const n=e.target,c=n.name,i=n.value;a[c]=i,c==="ingredient"&&(_.push(i),a[c]=_)},T=()=>{d=[],y=[],m=[],f=[],p=[],S.forEach(e=>{e.classList.contains("btn-chosen")&&d.includes(e)===!1&&d.push(e)}),d.forEach(e=>{switch(e.name){case"diet":y.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"dishType":m.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"cuisineType":f.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"health":e.value!=="DASH"||e.value!=="FODMAP-free"?p.push(e.value.charAt(0).toLowerCase()+e.value.slice(1)):p.push(e.value);break}}),a.diet=y,a.dishType=m,a.cuisineType=f,a.health=p},k=()=>{if(a.q!==void 0){const e=`&q=${a.q}`;u.push(e)}if(a.caloriesFrom!==void 0&&a.caloriesTo!==void 0){const e=`&calories=${a.caloriesFrom}-${a.caloriesTo}`;u.push(e)}for(let e in a)if(a[e].length!==0&&typeof a[e]=="object"){const n=a[e].map(c=>`&${e}=${c}`);u.push(...n)}},w=()=>{T(),k();const e=document.querySelector(".main__form-error"),n={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},i=`https://api.edamam.com/api/recipes/v2?app_id=${n.VITE_API_ID}&app_key=${n.VITE_API_KEY}&type=public`;if(u.length!==0)return e.textContent="",u.reduce((o,r)=>o+r,i);e.textContent="You have not filled any form field."},O=()=>{const e=document.querySelector(".footer__year"),n=new Date().getFullYear();e.textContent=n};q.addEventListener("click",C);q.addEventListener("keyup",C);q.addEventListener("change",L);S.forEach(e=>e.addEventListener("change",L));S.forEach(e=>e.addEventListener("click",()=>e.classList.toggle("btn-chosen")));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",$,{capture:!0}));x.addEventListener("click",b);N.addEventListener("click",E);window.addEventListener("DOMContentLoaded",O);
