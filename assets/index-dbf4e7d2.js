(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function c(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=c(n);fetch(n.href,i)}})();const l=(e,r,c)=>{const a=document.createElement("ul");return a.textContent=e,a.classList.add(r),c.forEach(n=>{const i=document.createElement("li");i.textContent=n,i.classList.add("font-weight"),a.append(i)}),a},s={selectedOptions:{},names:[],calories:[],diets:[],dishes:[],cuisines:[],health:[],ingredients:[],linkOptions:[],cardsContainer:document.querySelector(".main__result-cards")},y=(e,r)=>e.push(r),k=(e,r)=>s.selectedOptions[e]=r,b=()=>{for(let e in s)if(Array.isArray(s[e]))s[e]=[];else for(let r in s[e])delete s[e][r]},m=e=>{const r=document.querySelector(".main__results"),c=document.querySelector(".main__contribution"),a=e.hits;return c.style.backgroundColor="var(--background-brown)",r.style.display="block",a.forEach(i=>{const t=document.querySelector(".main__result-box").content.cloneNode(!0);t.querySelector(".main__result-card-title").textContent=i.recipe.label,t.querySelector(".main__result-card-img").setAttribute("src",i.recipe.image),t.querySelector(".calories-number").textContent=parseInt(i.recipe.calories/i.recipe.totalWeight*100);const u=l("Ingredients","main__result-card-ingredients",i.recipe.ingredientLines);t.querySelector(".main__result-card-ul").append(u),s.cardsContainer.append(t)}),c.scrollIntoView(),{detailLinks:Array.from(s.cardsContainer.querySelectorAll(".read-more-link")),resultWindow:r}},C=async(e,r)=>{const c=m(r),a=r.hits,n=document.querySelector(".main__details"),o=document.querySelector(".details-template").content.cloneNode(!0),t=a[c.detailLinks.indexOf(e.target)];n.style.display="block",o.querySelector(".main__details-header").textContent=t.recipe.label,o.querySelector(".clicked-food").setAttribute("src",t.recipe.image),o.querySelector(".cuisine-type").textContent=t.recipe.cuisineType;const u=l("","diet-labels",t.recipe.dietLabels);o.querySelector(".main__details-diet").append(u);const _=l("","health-labels",t.recipe.healthLabels);o.querySelector(".main__details-health").append(_);const g=l("","ingredients",t.recipe.ingredientLines);o.querySelector(".main__details-ingredients").append(g),o.querySelector(".serving-size").textContent=parseInt(t.recipe.totalWeight),o.querySelector(".calories-per-serving").textContent=parseInt(t.recipe.calories),o.querySelector(".calories-fat").textContent=parseInt(t.recipe.totalNutrients.FAT.quantity*9),o.querySelector(".total-fat").textContent=`${parseInt(t.recipe.totalNutrients.FAT.quantity)} ${t.recipe.totalNutrients.FAT.unit}`,o.querySelector(".saturated-fat").textContent=`${parseInt(t.recipe.totalNutrients.FASAT.quantity)} ${t.recipe.totalNutrients.FASAT.unit}`,o.querySelector(".trans-fat").textContent=`${parseInt(t.recipe.totalNutrients.FATRN.quantity)} ${t.recipe.totalNutrients.FATRN.unit}`,o.querySelector(".cholesterol").textContent=`${parseInt(t.recipe.totalNutrients.CHOLE.quantity)} ${t.recipe.totalNutrients.CHOLE.unit}`,o.querySelector(".total-carbohydrate").textContent=`${parseInt(t.recipe.totalNutrients.CHOCDF.quantity)} ${t.recipe.totalNutrients.CHOCDF.unit}`,o.querySelector(".dietary-fiber").textContent=`${parseInt(t.recipe.totalNutrients.FIBTG.quantity)} ${t.recipe.totalNutrients.FIBTG.unit}`,o.querySelector(".sugars").textContent=`${parseInt(t.recipe.totalNutrients.SUGAR.quantity)} ${t.recipe.totalNutrients.SUGAR.unit}`,o.querySelector(".sugar-alcohol").textContent=`${parseInt(t.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${t.recipe.totalNutrients["Sugar.alcohol"].unit}`,o.querySelector(".protein").textContent=`${parseInt(t.recipe.totalNutrients.PROCNT.quantity)} ${t.recipe.totalNutrients.PROCNT.unit}`,o.querySelector(".sodium").textContent=`${parseInt(t.recipe.totalNutrients.NA.quantity)} ${t.recipe.totalNutrients.NA.unit}`,o.querySelector(".see-recipe").setAttribute("href",t.recipe.url),n.append(o),n.scrollIntoView()},f=document.querySelector(".add-more"),h=document.querySelector(".main__form"),q=Array.from(document.querySelectorAll(".checkbox")),L=document.querySelectorAll(".main__form-option-check"),p=Array.from(document.querySelectorAll(".down-arrow")),S=document.querySelector(".main__form-find"),x=e=>{const r=q.indexOf(e.target);L[r].classList.toggle("checkbox-chosen")},A=e=>{const r=document.querySelectorAll(".main__form-option-checkboxes");let a=Array.from(document.querySelectorAll(".pointer")).indexOf(e.target);e.target.classList.contains("fa-solid")&&(a=p.indexOf(e.target)),r[a].classList.toggle("check-active"),p[a].classList.toggle("arrow-upwards")},d=e=>e.preventDefault(),I=()=>{const e=document.querySelector(".main__form-option-box"),r=document.querySelector(".main__form-option-inputs"),c=e.content.cloneNode(!0);r.appendChild(c)},N=e=>{const r=e.target,c=r.name,a=r.value;let n;switch(c){case"q":n=s.names;break;case"calories":s.caloriesArray.sort((i,o)=>i-o),n=s.calories;break;case"diet":n=s.diets;break;case"dishType":n=s.dishes;break;case"cuisineType":n=s.cuisines;break;case"health":n=s.health;break;case"ingredients":n=s.ingredients;break}y(n,a),k(c,n)},E=()=>{if(Object.keys(s.selectedOptions).length!==0)for(let e in s.selectedOptions)return s.selectedOptions[e].forEach(r=>{let c;e==="calories"?c=`&${e}=${s.selectedOptions[e][0]}-${s.selectedOptions[e][1]}`:c=`&${e}=${r}`,y(s.linkOptions,c)}),s.linkOptions},O=()=>{const e=E(),r=document.querySelector(".main__form-error"),c={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},n=`https://api.edamam.com/api/recipes/v2?app_id=${c.VITE_API_ID}&app_key=${c.VITE_API_KEY}&type=public`;if(e!==void 0)return r.textContent="",e.reduce((o,t)=>o+t,n);r.textContent="You have not filled any form field."},$=async()=>{const r=await(await fetch(O())).json();s.cardsContainer.innerHTML="";const c=m(r);c.resultWindow.style.display==="block"&&c.detailLinks.forEach(a=>a.addEventListener("click",n=>{n.preventDefault(),C(n,r)})),b()},T=()=>{const e=document.querySelector(".footer__year"),r=new Date().getFullYear();e.textContent=r};h.addEventListener("keyup",d);q.forEach(e=>e.addEventListener("click",x));document.querySelectorAll(".pointer").forEach(e=>e.addEventListener("click",A,{capture:!0}));f.addEventListener("click",d);f.addEventListener("click",I);h.addEventListener("change",N);S.addEventListener("click",d);S.addEventListener("click",$);window.addEventListener("DOMContentLoaded",T);
