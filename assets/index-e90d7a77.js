(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const e of c)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&n(t)}).observe(document,{childList:!0,subtree:!0});function i(c){const e={};return c.integrity&&(e.integrity=c.integrity),c.referrerpolicy&&(e.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?e.credentials="include":c.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(c){if(c.ep)return;c.ep=!0;const e=i(c);fetch(c.href,e)}})();const s=(r,o,i)=>{const n=document.createElement("ul");return n.textContent=r,n.classList.add(o),i.forEach(c=>{const e=document.createElement("li");e.textContent=c,e.style.fontWeight="normal",n.append(e)}),n},b=document.querySelector(".main__results");let p;const N=r=>{const o=document.querySelector(".main__contribution"),i=r.hits,n=document.querySelector(".main__result-cards");o.style.backgroundColor="var(--background-brown)",b.style.display="block",i.forEach(c=>{const t=document.querySelector(".main__result-box").content.cloneNode(!0);t.querySelector(".main__result-card-title").textContent=c.recipe.label,t.querySelector(".main__result-card-img").setAttribute("src",c.recipe.image),t.querySelector(".calories-number").textContent=parseInt(c.recipe.calories/c.recipe.totalWeight*100);const l=s("Ingredients","main__result-card-ingredients",c.recipe.ingredientLines);t.querySelector(".main__result-card-ul").append(l),n.append(t)}),o.scrollIntoView(),p=Array.from(n.querySelectorAll(".read-more-link"))},E=async(r,o)=>{const i=o.hits,n=document.querySelector(".main__details"),e=document.querySelector(".details-template").content.cloneNode(!0),t=i[p.indexOf(r.target)];n.style.display="block",e.querySelector(".main__details-header").textContent=t.recipe.label,e.querySelector(".clicked-food").setAttribute("src",t.recipe.image),e.querySelector(".cuisine-type").textContent=t.recipe.cuisineType;const l=s("","diet-labels",t.recipe.dietLabels);e.querySelector(".main__details-diet").append(l);const I=s("","health-labels",t.recipe.healthLabels);e.querySelector(".main__details-health").append(I);const L=s("","ingredients",t.recipe.ingredientLines);e.querySelector(".main__details-ingredients").append(L),e.querySelector(".serving-size").textContent=parseInt(t.recipe.totalWeight),e.querySelector(".calories-per-serving").textContent=parseInt(t.recipe.calories),e.querySelector(".calories-fat").textContent=parseInt(t.recipe.totalNutrients.FAT.quantity*9),e.querySelector(".total-fat").textContent=`${parseInt(t.recipe.totalNutrients.FAT.quantity)} ${t.recipe.totalNutrients.FAT.unit}`,e.querySelector(".saturated-fat").textContent=`${parseInt(t.recipe.totalNutrients.FASAT.quantity)} ${t.recipe.totalNutrients.FASAT.unit}`,e.querySelector(".trans-fat").textContent=`${parseInt(t.recipe.totalNutrients.FATRN.quantity)} ${t.recipe.totalNutrients.FATRN.unit}`,e.querySelector(".cholesterol").textContent=`${parseInt(t.recipe.totalNutrients.CHOLE.quantity)} ${t.recipe.totalNutrients.CHOLE.unit}`,e.querySelector(".total-carbohydrate").textContent=`${parseInt(t.recipe.totalNutrients.CHOCDF.quantity)} ${t.recipe.totalNutrients.CHOCDF.unit}`,e.querySelector(".dietary-fiber").textContent=`${parseInt(t.recipe.totalNutrients.FIBTG.quantity)} ${t.recipe.totalNutrients.FIBTG.unit}`,e.querySelector(".sugars").textContent=`${parseInt(t.recipe.totalNutrients.SUGAR.quantity)} ${t.recipe.totalNutrients.SUGAR.unit}`,e.querySelector(".sugar-alcohol").textContent=`${parseInt(t.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${t.recipe.totalNutrients["Sugar.alcohol"].unit}`,e.querySelector(".protein").textContent=`${parseInt(t.recipe.totalNutrients.PROCNT.quantity)} ${t.recipe.totalNutrients.PROCNT.unit}`,e.querySelector(".sodium").textContent=`${parseInt(t.recipe.totalNutrients.NA.quantity)} ${t.recipe.totalNutrients.NA.unit}`,e.querySelector(".see-recipe").setAttribute("href",t.recipe.url),n.append(e),n.scrollIntoView()},A=document.querySelector(".add-more"),k=document.querySelector(".main__form"),x=Array.from(document.querySelectorAll(".checkbox")),$=document.querySelectorAll(".main__form-option-check"),m=Array.from(document.querySelectorAll(".down-arrow")),C=document.querySelector(".main__form-find");let a={},f=[],u=[],h=[],q=[],_=[],S=[],g=[],d=[];const v=r=>{const o=x.indexOf(r.target);$[o].classList.toggle("checkbox-chosen")},T=r=>{const o=document.querySelectorAll(".main__form-option-checkboxes");let n=Array.from(document.querySelectorAll(".pointer")).indexOf(r.target);r.target.classList.contains("fa-solid")&&(n=m.indexOf(r.target)),o[n].classList.toggle("check-active"),m[n].classList.toggle("arrow-upwards")},y=r=>r.preventDefault(),w=()=>{const r=document.querySelector(".main__form-option-box"),o=document.querySelector(".main__form-option-inputs"),i=r.content.cloneNode(!0);o.appendChild(i)},O=r=>{const o=r.target,i=o.name,n=o.value;switch(i){case"q":f.push(n),a[i]=f;break;case"calories":u.push(n),u.sort((c,e)=>c-e),a[i]=u;break;case"diet":h.push(n),a[i]=h;break;case"dishType":q.push(n),a[i]=q;break;case"cuisineType":_.push(n),a[i]=_;break;case"health":S.push(n),a[i]=S;break;case"ingredients":g.push(n),a[i]=g;break}},D=()=>{for(let r in a)a[r].forEach(o=>{let i;r==="calories"?i=`${r}=${a[r][0]}-${a[r][1]}`:i=`&${r}=${o}`,d.push(i)})},F=()=>{D();const r=document.querySelector(".main__form-error"),o={VITE_API_ID:"5c6e6d0d",VITE_API_KEY:"939746c7bcc56d7979fbd288161fc271",BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},n=`https://api.edamam.com/api/recipes/v2?app_id=${o.VITE_API_ID}&app_key=${o.VITE_API_KEY}&type=public`;if(d.length!==0)return r.textContent="",d.reduce((c,e)=>c+e,n);r.textContent="You have not filled any form field."},R=async()=>{const o=await(await fetch(F())).json();N(o),b.style.display==="block"&&p.forEach(i=>i.addEventListener("click",n=>{n.preventDefault(),E(n,o)}))},P=()=>{const r=document.querySelector(".footer__year"),o=new Date().getFullYear();r.textContent=o};k.addEventListener("keyup",y);x.forEach(r=>r.addEventListener("click",v));document.querySelectorAll(".pointer").forEach(r=>r.addEventListener("click",T,{capture:!0}));A.addEventListener("click",y);A.addEventListener("click",w);k.addEventListener("change",O);C.addEventListener("click",y);C.addEventListener("click",R);window.addEventListener("DOMContentLoaded",P);
