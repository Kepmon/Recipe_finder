(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();const L={BASE_URL:"/Recipe_finder/",MODE:"production",DEV:!1,PROD:!0},I="https://api.edamam.com/api/recipes/v2",E=`${I}?app_id=${L.VITE_API_ID}&app_key=${L.VITE_API_KEY}&type=public`,k=document.querySelector(".main__results");let q;const $=()=>{const e=d.reduce((o,n)=>o+n,E);fetch(e).then(o=>o.json()).then(o=>{const n=document.querySelector(".main__contribution"),l=o.hits,i=document.querySelector(".main__result-cards");n.style.backgroundColor="var(--background-brown)",k.style.display="block",l.forEach(c=>{const t=document.querySelector(".main__result-box").content.cloneNode(!0);t.querySelector(".main__result-card-title").textContent=c.recipe.label,t.querySelector(".main__result-card-img").setAttribute("src",c.recipe.image),t.querySelector(".calories-number").textContent=parseInt(c.recipe.calories/c.recipe.totalWeight*100),c.recipe.ingredientLines.forEach(u=>{const s=document.createElement("li");s.classList.add("ingredient-item"),s.textContent=u,t.querySelector(".main__result-card-ingredients").append(s)}),i.append(t),n.scrollIntoView()}),q=Array.from(i.querySelectorAll(".read-more-link")),q.forEach(c=>c.addEventListener("click",T))})},T=e=>{e.preventDefault();const o=d.reduce((n,l)=>n+l,E);fetch(o).then(n=>n.json()).then(n=>{const l=n.hits,i=document.querySelector(".main__details"),r=document.querySelector(".details-template").content.cloneNode(!0),t=l[q.indexOf(e.target)];i.style.display="block",r.querySelector(".main__details-header").textContent=t.recipe.label,r.querySelector(".clicked-food").setAttribute("src",t.recipe.image),r.querySelector(".cuisine-type").textContent=t.recipe.cuisineType,t.recipe.dietLabels.forEach(u=>{const s=document.createElement("li");s.textContent=u,r.querySelector(".diet-labels").append(s)}),t.recipe.healthLabels.forEach(u=>{const s=document.createElement("li");s.textContent=u,r.querySelector(".health-labels").append(s)}),t.recipe.ingredientLines.forEach(u=>{const s=document.createElement("li");s.textContent=u,r.querySelector(".ingredients").append(s)}),r.querySelector(".serving-size").textContent=parseInt(t.recipe.totalWeight),r.querySelector(".calories-per-serving").textContent=parseInt(t.recipe.calories),r.querySelector(".calories-fat").textContent=parseInt(t.recipe.totalNutrients.FAT.quantity*9),r.querySelector(".total-fat").textContent=`${parseInt(t.recipe.totalNutrients.FAT.quantity)} ${t.recipe.totalNutrients.FAT.unit}`,r.querySelector(".saturated-fat").textContent=`${parseInt(t.recipe.totalNutrients.FASAT.quantity)} ${t.recipe.totalNutrients.FASAT.unit}`,r.querySelector(".trans-fat").textContent=`${parseInt(t.recipe.totalNutrients.FATRN.quantity)} ${t.recipe.totalNutrients.FATRN.unit}`,r.querySelector(".cholesterol").textContent=`${parseInt(t.recipe.totalNutrients.CHOLE.quantity)} ${t.recipe.totalNutrients.CHOLE.unit}`,r.querySelector(".total-carbohydrate").textContent=`${parseInt(t.recipe.totalNutrients.CHOCDF.quantity)} ${t.recipe.totalNutrients.CHOCDF.unit}`,r.querySelector(".dietary-fiber").textContent=`${parseInt(t.recipe.totalNutrients.FIBTG.quantity)} ${t.recipe.totalNutrients.FIBTG.unit}`,r.querySelector(".sugars").textContent=`${parseInt(t.recipe.totalNutrients.SUGAR.quantity)} ${t.recipe.totalNutrients.SUGAR.unit}`,r.querySelector(".sugar-alcohol").textContent=`${parseInt(t.recipe.totalNutrients["Sugar.alcohol"].quantity)} ${t.recipe.totalNutrients["Sugar.alcohol"].unit}`,r.querySelector(".protein").textContent=`${parseInt(t.recipe.totalNutrients.PROCNT.quantity)} ${t.recipe.totalNutrients.PROCNT.unit}`,r.querySelector(".sodium").textContent=`${parseInt(t.recipe.totalNutrients.NA.quantity)} ${t.recipe.totalNutrients.NA.unit}`,r.querySelector(".see-recipe").setAttribute("href",t.recipe.url),i.append(r),i.scrollIntoView()})},v=Array.from(document.querySelectorAll(".pointer")),b=document.querySelector(".add-more"),S=document.querySelector(".main__form"),g=document.querySelectorAll(".main__form-option-btn"),C=Array.from(document.querySelectorAll(".down-arrow")),A=document.querySelector(".main__form-find");let a={},p=[],_=[],m=[],f=[],h=[],y=[],d=[];const w=e=>{const o=document.querySelectorAll(".main__form-option-btns");let n=v.indexOf(e.target);e.target.classList.contains("fa-solid")&&(n=C.indexOf(e.target)),o[n].classList.toggle("btns-active"),C[n].classList.toggle("arrow-upwards")},N=e=>e.preventDefault(),O=()=>{const e=document.querySelector(".main__form-option-box"),o=document.querySelector(".main__form-option-inputs"),n=e.content.cloneNode(!0);o.appendChild(n)},x=e=>{const o=e.target,n=o.name,l=o.value;a[n]=l,n==="ingredient"&&(_.push(l),a[n]=_)},F=()=>{p=[],m=[],f=[],h=[],y=[],g.forEach(e=>{e.classList.contains("btn-chosen")&&p.includes(e)===!1&&p.push(e)}),p.forEach(e=>{switch(e.name){case"diet":m.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"dishType":f.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"cuisineType":h.push(e.value.charAt(0).toLowerCase()+e.value.slice(1));break;case"health":e.value!=="DASH"||e.value!=="FODMAP-free"?y.push(e.value.charAt(0).toLowerCase()+e.value.slice(1)):y.push(e.value);break}}),a.diet=m,a.dishType=f,a.cuisineType=h,a.health=y},D=()=>{if(a.q!==void 0){const e=`&q=${a.q}`;d.push(e)}if(a.caloriesFrom!==void 0&&a.caloriesTo!==void 0){const e=`&calories=${a.caloriesFrom}-${a.caloriesTo}`;d.push(e)}for(let e in a)if(a[e].length!==0&&typeof a[e]=="object"){const o=a[e].map(n=>`&${e}=${n}`);d.push(...o)}},R=()=>{const e=document.querySelector(".footer__year"),o=new Date().getFullYear();e.textContent=o};S.addEventListener("click",N);S.addEventListener("keyup",N);S.addEventListener("change",x);g.forEach(e=>e.addEventListener("change",x));g.forEach(e=>e.addEventListener("click",()=>e.classList.toggle("btn-chosen")));v.forEach(e=>e.addEventListener("click",w,{capture:!0}));b.addEventListener("click",O);A.addEventListener("click",F);A.addEventListener("click",D);A.addEventListener("click",$);window.addEventListener("DOMContentLoaded",R);
